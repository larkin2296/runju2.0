{"remainingRequest":"/Library/WebServer/Documents/runju2.0/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/runju2.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/runju2.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/runju2.0/src/views/registerpage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/runju2.0/src/views/registerpage/index.vue","mtime":1543549321251},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"vant/es/cell-group/style\";\nimport _CellGroup from \"vant/es/cell-group\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/popup/style\";\nimport _Popup from \"vant/es/popup\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport \"vant/es/button/style\";\nimport _Button from \"vant/es/button\";\nimport \"vant/es/field/style\";\nimport _Field from \"vant/es/field\";\nimport { send_code, send_register } from '@/api/login.js';\nimport Bottom from '../../components/Bottom.vue';\nexport default {\n  data() {\n    return {\n      phone: '',\n      code: '',\n      psd: '',\n      r_psd: '',\n      show: false,\n      msg: '',\n      sure_code: '',\n      button_msg: '发送验证码',\n      button_num: 0,\n      is_click: false\n    };\n  },\n\n  components: {\n    Bottom,\n    [_Field.name]: _Field,\n    [_Button.name]: _Button,\n    [_NavBar.name]: _NavBar,\n    [_Popup.name]: _Popup,\n    [_Icon.name]: _Icon,\n    [_CellGroup.name]: _CellGroup\n  },\n  methods: {\n    onClickLeft: function () {\n      this.$router.push({\n        path: '/login'\n      });\n    },\n\n    send_code() {\n      var that = this;\n\n      if (this.phone == '' || this.phone.length != 11) {\n        this.msg = '请输入正确的手机号';\n        this.show = true;\n        setTimeout(function () {\n          that.show = false;\n        }, 1500);\n      } else {\n        var param = Object();\n        param.phone = this.phone;\n        send_code(param).then(res => {\n          this.sure_code = res.obj;\n          console.log(res.obj);\n        });\n        this.button_msg = '重新发送';\n        this.button_num = 60;\n        var countdown = setInterval(function () {\n          that.is_click = true;\n          that.button_num--;\n\n          if (that.button_num == 0) {\n            clearInterval(countdown);\n            that.button_msg = '发送验证码';\n            that.is_click = false;\n          }\n        }, 1000);\n      }\n    },\n\n    register() {\n      var that = this;\n\n      if (this.phone == '' || this.code == '' || this.psd == '' || this.r_psd == '') {\n        this.msg = '请填写完整';\n        this.show = true;\n        setTimeout(function () {\n          that.show = false;\n        }, 1500);\n      } else if (this.code != this.sure_code) {\n        this.msg = '验证码错误';\n        this.show = true;\n        setTimeout(function () {\n          that.show = false;\n        }, 1500);\n      } else if (this.psd.length < 6) {\n        this.msg = '密码不可小于6位';\n        this.show = true;\n        setTimeout(function () {\n          that.show = false;\n        }, 1500);\n      } else if (this.psd != this.r_psd) {\n        this.msg = '两次密码输入不正确';\n        this.show = true;\n        setTimeout(function () {\n          that.show = false;\n        }, 1500);\n      } else {\n        var param = Object();\n        param.phone = this.phone;\n        param.password = this.psd;\n        send_register(param).then(res => {\n          this.msg = res.msg;\n          this.show = true;\n          setTimeout(function () {\n            that.show = false;\n          }, 1500);\n\n          if (res.code == 2000) {\n            setTimeout(function () {\n              that.$router.push({\n                path: 'user'\n              });\n            }, 2000);\n          }\n        });\n      }\n    }\n\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <van-popup class='msg' v-model=\"show\" :overlay=\"false\"><van-icon name='question'/>{{msg}}</van-popup>\n        <van-nav-bar\n        title=\"注册\"\n        left-text=\"返回\"\n        right-text=\"\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n        />\n        <van-cell-group>\n        <div class='word1'>你好</div>\n        <div class='word2'>欢迎使用润居，请<span style='color:rgb(234,156,79);'>注册</span></div>\n        <van-field  class='center'\n            v-model=\"phone\"\n            center\n            clearable\n            :disabled=\"is_click\"\n            placeholder=\"请输入手机号码\"\n        >\n            <van-button class='msg_button' slot=\"button\" size=\"small\" :disabled=\"is_click\" @click='send_code'>{{button_msg}}<span v-if=\"button_num != 0\">{{button_num}}</span></van-button>\n        </van-field>\n        <van-field   class='center' v-model='code' center clearable placeholder='请输入验证码'></van-field>\n        <van-field   type='password' class='center' v-model='psd' center clearable placeholder='请输入密码'></van-field>\n        <van-field   type='password' class='center' v-model='r_psd' center clearable placeholder='确认密码'></van-field>\n        </van-cell-group>\n        <van-button class='login_button' @click=\"register\">注册</van-button>\n        <bottom></bottom>\n    </div>\n</template>\n\n<script>\nimport { Field,Button,NavBar,Popup,Icon,CellGroup } from 'vant';\nimport { send_code,send_register} from '@/api/login.js'\nimport Bottom from '../../components/Bottom.vue'\nexport default {\n    data(){\n        return{\n            phone: '',\n            code: '',\n            psd: '',\n            r_psd: '',\n            show:false,\n            msg: '',\n            sure_code: '',\n            button_msg: '发送验证码',\n            button_num: 0,\n            is_click: false\n        }\n    },\n    components: {\n        Bottom,\n        [Field.name]: Field,\n        [Button.name]: Button,\n        [NavBar.name]:NavBar,\n        [Popup.name]:Popup,\n        [Icon.name]:Icon,\n        [CellGroup.name]:CellGroup\n    },\n    methods: {\n        onClickLeft: function(){\n            this.$router.push({path: '/login'})\n        },\n        send_code(){\n            var that = this\n            if(this.phone == '' || this.phone.length != 11){\n                this.msg = '请输入正确的手机号'\n                this.show = true\n                setTimeout(function () {\n                    that.show = false\n                }, 1500)\n            }else{\n                var param = Object()\n                param.phone = this.phone\n                send_code(param).then(res=>{\n                    this.sure_code = res.obj\n                    console.log(res.obj)\n                })\n                this.button_msg = '重新发送'\n                this.button_num = 60\n                var countdown = setInterval(function () {\n                    that.is_click = true\n                    that.button_num --\n                    if(that.button_num == 0){\n                        clearInterval(countdown)\n                        that.button_msg = '发送验证码'\n                        that.is_click = false\n                    }\n                },1000)\n            }\n        },\n        register(){\n            var that = this\n            if(this.phone == '' || this.code == '' || this.psd == '' || this.r_psd == ''){\n                this.msg = '请填写完整'\n                this.show = true\n                setTimeout(function () {\n                    that.show = false\n                }, 1500)\n            }else if(this.code != this.sure_code){\n                this.msg = '验证码错误'\n                this.show = true\n                setTimeout(function () {\n                    that.show = false\n                }, 1500)\n            }else if(this.psd.length < 6){\n                this.msg = '密码不可小于6位'\n                this.show = true\n                setTimeout(function () {\n                    that.show = false\n                }, 1500)\n            }else if(this.psd != this.r_psd){\n                this.msg = '两次密码输入不正确'\n                this.show = true\n                setTimeout(function () {\n                    that.show = false\n                }, 1500)\n            }else{\n                var param = Object()\n                param.phone = this.phone\n                param.password = this.psd\n                send_register(param).then(res=>{\n                    this.msg = res.msg\n                    this.show = true\n                    setTimeout(function () {\n                        that.show = false\n                    }, 1500)                    \n                    if(res.code == 2000){\n                        setTimeout(function () {\n                            that.$router.push({path:'user'})\n                        }, 2000)                      \n                    }\n                })\n            }\n        }\n    }\n}\n</script>\n\n<style>\nhtml,body{\n    width:100%;\n    height:100%;\n}\n.center{\n    width:90%;\n    height:60px;\n    margin: 0 auto;\n}\n.login_button{\n    width:90%;\n    height:55px;\n    margin:10px auto;\n    display: block;\n    color:#ffffff;\n    background-color: rgb(84,112,224);\n    font-family: PingFangLight;\n    font-size:22px;\n    letter-spacing: 5px;\n}\n.msg_button{\n    background-color:rgb(84,112,224);color:#ffffff;\n}\n.word1{\n    width: 84px;\n    height: 57px;\n    font-family: PingFangBold;\n    font-size: 34px;\n    margin-left:7%;\n    margin-top:50px;\n}\n.word2{\n    width: 300px;\n    height: 37px;\n    font-family: PingFangLight;\n    font-size: 22px;\n    margin-left:7%;\n    margin-bottom:30px;  \n}\n.msg{\n    width:200px;\n    height:60px;\n    text-align:center;\n    line-height:60px;\n    border-radius: 5px;\n    font-family: PingFangBold;\n    color:#ffffff;\n    font-size:15px;\n    background-color: #000000;\n    box-shadow: 3px 4px 10px 2px rgba(119,118,118,0.33);\n}\n.van-icon{\n    vertical-align: middle;\n    padding-right:5px;\n}\n</style>\n"],"sourceRoot":"src/views/registerpage"}]}