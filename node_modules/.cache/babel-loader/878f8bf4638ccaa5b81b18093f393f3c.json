{"remainingRequest":"/Library/WebServer/Documents/runju2.0/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/runju2.0/src/routers.js","dependencies":[{"path":"/Library/WebServer/Documents/runju2.0/src/routers.js","mtime":1543890788952},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Home from './views/frontpage/index.vue';\nimport List from './views/listpage/index.vue';\nimport Login from './views/loginpage/index.vue';\nimport User from './views/users/index.vue';\nimport Appoint from './views/appointpage/index.vue';\nimport Collect from './views/collectpage/index.vue';\nimport Host from './views/hostingpage/index.vue';\nimport Register from './views/registerpage/index.vue';\nimport Detail from './views/detailpage/index.vue';\nimport Map from './views/mappage/index.vue';\nimport Edit from './views/users/edit.vue';\nimport History from './views/history/index.vue';\nimport Maintenance from './views/maintenance/index.vue';\nimport About from './views/about/index.vue';\nimport Secondary from './views/secondary/index.vue';\nimport store from './store';\nimport { getToken } from '@/utils/auth'; // 验权\n\nimport Vue from 'vue';\nimport Router from 'vue-router'; // in development-env not use lazy-loading, because lazy-loading too many pages will cause webpack hot update too slow. so only in production use lazy-loading;\n// detail: https://panjiachen.github.io/vue-element-admin-site/#/lazy-loading\n\nVue.use(Router);\nconst routes = [//......\n{\n  path: '/',\n  name: 'home',\n  component: Home\n}, {\n  path: '/list',\n  name: 'list',\n  component: List\n}, {\n  path: '/login',\n  name: 'login',\n  component: Login\n}, {\n  path: '/user',\n  name: 'user',\n  component: User\n}, {\n  path: '/appoint',\n  name: 'appoint',\n  component: Appoint\n}, {\n  path: '/collect',\n  name: 'collect',\n  component: Collect\n}, {\n  path: '/hosting',\n  name: 'hosting',\n  component: Host\n}, {\n  path: '/register',\n  name: 'register',\n  component: Register\n}, {\n  path: '/detail',\n  name: 'detail',\n  component: Detail\n}, {\n  path: '/map',\n  name: 'map',\n  component: Map\n}, {\n  path: '/edit',\n  name: 'edit',\n  component: Edit\n}, {\n  path: '/history',\n  name: 'history',\n  component: History\n}, {\n  path: '/maintenance',\n  name: 'maintenance',\n  component: Maintenance\n}, {\n  path: '/about',\n  name: 'about',\n  component: About\n}, {\n  path: '/secondary',\n  name: 'secondary',\n  component: Secondary\n}];\nconst router = new Router({\n  mode: 'history',\n  routes // short for `routes: routes`\n\n});\nconst whiteList = ['/', '/list', '/login']; // 不重定向白名单\n\nrouter.beforeEach((to, from, next) => {\n  if (whiteList.indexOf(to.path) !== -1) {\n    next();\n  } else {\n    var a = getToken();\n\n    if (a != undefined) {\n      //console.log(a)\n      store.dispatch('GetInfo').then(res => {\n        // 拉取用户信息\n        if (res == 'error') {\n          next({\n            path: '/login'\n          });\n        } else {\n          next();\n        }\n      }).catch(() => {\n        store.dispatch('FedLogOut').then(() => {});\n      });\n    } else {\n      next();\n    }\n  }\n});\nexport default router;",{"version":3,"sources":["/Library/WebServer/Documents/runju2.0/src/routers.js"],"names":["Home","List","Login","User","Appoint","Collect","Host","Register","Detail","Map","Edit","History","Maintenance","About","Secondary","store","getToken","Vue","Router","use","routes","path","name","component","router","mode","whiteList","beforeEach","to","from","next","indexOf","a","undefined","dispatch","then","res","catch"],"mappings":"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","sourcesContent":["import Home from './views/frontpage/index.vue'\nimport List from './views/listpage/index.vue'\nimport Login from './views/loginpage/index.vue'\nimport User from './views/users/index.vue'\nimport Appoint from './views/appointpage/index.vue'\nimport Collect from './views/collectpage/index.vue'\nimport Host from './views/hostingpage/index.vue'\nimport Register from './views/registerpage/index.vue'\nimport Detail from './views/detailpage/index.vue'\nimport Map from './views/mappage/index.vue'\nimport Edit from './views/users/edit.vue'\nimport History from './views/history/index.vue'\nimport Maintenance from './views/maintenance/index.vue'\nimport About from './views/about/index.vue'\nimport Secondary from './views/secondary/index.vue'\nimport store from './store'\nimport { getToken } from '@/utils/auth' // 验权\nimport Vue from 'vue'\nimport Router from 'vue-router'\n\n// in development-env not use lazy-loading, because lazy-loading too many pages will cause webpack hot update too slow. so only in production use lazy-loading;\n// detail: https://panjiachen.github.io/vue-element-admin-site/#/lazy-loading\nVue.use(Router)\n\nconst routes = [\n    //......\n    {\n      path: '/',\n      name: 'home',\n      component: Home\n    },\n    {\n      path: '/list',\n      name: 'list',\n      component: List\n    },\n    {\n      path: '/login',\n      name: 'login',\n      component: Login\n    },\n    {\n      path: '/user',\n      name: 'user',\n      component: User\n    },\n    {\n      path: '/appoint',\n      name: 'appoint',\n      component: Appoint\n    },\n    {\n      path: '/collect',\n      name: 'collect',\n      component: Collect\n    },\n    {\n      path: '/hosting',\n      name: 'hosting',\n      component: Host\n    },\n    {\n      path: '/register',\n      name: 'register',\n      component: Register\n    },\n    {\n      path: '/detail',\n      name: 'detail',\n      component: Detail\n    },\n    {\n      path: '/map',\n      name: 'map',\n      component: Map\n    },\n    {\n      path: '/edit',\n      name: 'edit',\n      component: Edit\n    },\n    {\n      path: '/history',\n      name: 'history',\n      component: History\n    },\n    {\n      path: '/maintenance',\n      name: 'maintenance',\n      component:Maintenance\n    },\n    {\n      path: '/about',\n      name: 'about',\n      component: About\n    },\n    {\n      path: '/secondary',\n      name: 'secondary',\n      component: Secondary\n    }\n]\nconst router = new Router({\n  mode: 'history',\n  routes // short for `routes: routes`\n})\nconst whiteList = ['/', '/list','/login'] // 不重定向白名单\nrouter.beforeEach((to, from, next) => {\n  if (whiteList.indexOf(to.path) !== -1) {\n    next()\n  }else{\n    var a = getToken()\n    if (a != undefined) {\n      //console.log(a)\n      store.dispatch('GetInfo').then(res => { // 拉取用户信息\n        if(res == 'error'){\n          next({ path: '/login' })\n        }else{\n          next()\n        }\n      }).catch(() => {\n        store.dispatch('FedLogOut').then(() => {\n        })\n      })\n    }else{\n      next()\n    }\n  }\n})\nexport default router\n"]}]}