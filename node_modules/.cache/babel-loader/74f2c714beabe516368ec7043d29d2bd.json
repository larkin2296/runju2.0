{"remainingRequest":"/Library/WebServer/Documents/runju2.0/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/runju2.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/runju2.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/runju2.0/src/views/collectpage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/runju2.0/src/views/collectpage/index.vue","mtime":1543724693686},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/runju2.0/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"vant/es/popup/style\";\nimport _Popup from \"vant/es/popup\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/dialog/style\";\nimport _Dialog from \"vant/es/dialog\";\nimport \"vant/es/cell-group/style\";\nimport _CellGroup from \"vant/es/cell-group\";\nimport \"vant/es/cell/style\";\nimport _Cell from \"vant/es/cell\";\nimport \"vant/es/notice-bar/style\";\nimport _NoticeBar from \"vant/es/notice-bar\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\nimport \"vant/es/swipe-cell/style\";\nimport _SwipeCell from \"vant/es/swipe-cell\";\nimport \"vant/es/button/style\";\nimport _Button from \"vant/es/button\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport Bottom from '../../components/Bottom.vue';\nimport Child from '../../components/Keyword.vue';\nimport { get_collect_data, delete_collect } from '@/api/collect.js';\nimport store from '@/store';\nexport default {\n  data() {\n    return {\n      label: 0,\n      list: [],\n      loading: false,\n      finished: false,\n      show: false,\n      msg: ''\n    };\n  },\n\n  components: {\n    Bottom,\n    Child,\n    [_NavBar.name]: _NavBar,\n    [_Button.name]: _Button,\n    [_SwipeCell.name]: _SwipeCell,\n    [_List.name]: _List,\n    [_NoticeBar.name]: _NoticeBar,\n    [_Cell.name]: _Cell,\n    [_CellGroup.name]: _CellGroup,\n    [_Dialog.name]: _Dialog,\n    [_Icon.name]: _Icon,\n    [_Popup.name]: _Popup\n  },\n\n  created() {\n    this.fetchData();\n  },\n\n  methods: {\n    fetchData() {\n      var that = this;\n\n      if (store.getters.token != undefined && store.getters.id != '') {\n        var param = Object();\n        param.user_id = store.getters.id;\n        get_collect_data(param).then(res => {\n          if (res.code == '2000') {\n            this.label = res.status;\n          } else {\n            this.label = res.status;\n          }\n        });\n      }\n    },\n\n    onLoad() {\n      var that = this;\n\n      if (store.getters.token != undefined && store.getters.id != '') {\n        var param = Object();\n        param.user_id = store.getters.id;\n        get_collect_data(param).then(res => {\n          if (res.code == '2000') {\n            this.list = res.house;\n            this.loading = false;\n            this.finished = true;\n          } else {\n            that.label = res.status;\n          }\n        });\n      } else {\n        this.list = [];\n      }\n\n      if (this.list == []) {\n        this.label = 0;\n      }\n    },\n\n    onClickLeft() {\n      this.$router.push({\n        path: '/'\n      });\n    },\n\n    go_list() {\n      this.$router.push({\n        path: 'list'\n      });\n    },\n\n    onClose(clickPosition, instance) {\n      switch (clickPosition) {\n        case 'left':\n        case 'cell':\n        case 'outside':\n          instance.close();\n          break;\n\n        case 'right':\n          _Dialog.confirm({\n            message: '确定删除吗？'\n          }).then(() => {\n            var that = this;\n            var param = Object();\n            param.id = instance.$attrs.data;\n            delete_collect(param).then(res => {\n              this.msg = res.msg;\n              this.show = true;\n              setTimeout(function () {\n                that.show = false;\n                that.onLoad();\n                instance.close();\n              }, 1500);\n            });\n          });\n\n          break;\n      }\n    }\n\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <van-nav-bar\n        title=\"收藏列表\"\n        left-text=\"\"\n        right-text=\"\"\n        \n        @click-left=\"onClickLeft\"\n        />\n        <van-popup class='msg' v-model=\"show\" :overlay=\"false\"><van-icon name='question'/>{{msg}}</van-popup>\n        <!-- 没有收藏 -->\n        <div class='empty' v-if=\"label == 0\">\n            <div class='img'>\n                <img src='../../img/coffee.png' />\n            </div>\n            <div class='empty_title'>\n                抱歉，你还没有添加任何收藏\n            </div>\n            <div class='empty_button'>\n                <van-button type='warning' @click='go_list'>去看看</van-button>\n            </div>\n        </div>\n        <!-- 收藏列表 -->\n        <div class='list' v-if=\"label == 1\">\n            <div class='title'>整租/合租</div>\n            <div class='title_bottom'></div>\n            <van-list  class='house_list' v-model=\"loading\" :finished=\"finished\" :offset='400' @load='onLoad'>\n                <div v-for=\"(item,index) in list\" :key=\"index\" class='house' @click=\"goDetail(item.id)\">\n                    <van-swipe-cell :right-width=\"55\" :left-width=\"55\" v-bind:data='item.id' :on-close=\"onClose\">\n                        <div class='swipe_left'><img :src=\"item.house.pic_1\" /></div>\n                        <div class='swipe_right'>\n                        <div class='swipe_right_top'><van-notice-bar :text=\"item.house.title\" background='#ffffff'/></div>\n                        <div class='swipe_right_center'>{{item.house.door_name}} 大一居大床外景</div>\n                        <div class='swipe_right_middle'>{{item.house.address}}</div>\n                        <div class='swipe_right_bottom'>\n                            <child v-for=\"(itemchild,index) in item.house.key_name\" :key=\"index\" :message=\"itemchild\"></child>\n                        </div>\n                        <div class='swipe_right_price'>{{item.house.price}}元/月</div>\n                        </div>\n                        <span slot=\"right\">删除</span>\n                    </van-swipe-cell>\n                </div>\n            </van-list>\n            <!-- <van-swipe-cell :right-width=\"65\" :left-width=\"65\" :on-close=\"onClose\">\n            <span slot=\"left\">选择</span>\n            <van-cell-group>\n                <van-cell title=\"单元格\" value=\"内容\" />\n            </van-cell-group>\n            <span slot=\"right\">删除</span>\n            </van-swipe-cell> -->\n        </div>\n        <bottom></bottom>\n    </div>\n</template>\n\n<script>\nimport { NavBar,Button,SwipeCell,List,NoticeBar,Cell,CellGroup,Dialog,Icon,Popup } from 'vant'\nimport Bottom from '../../components/Bottom.vue'\nimport Child from '../../components/Keyword.vue'\nimport { get_collect_data,delete_collect } from '@/api/collect.js'\nimport store from '@/store'\nexport default {\n    data(){\n        return{\n            label: 0,\n            list: [],\n            loading:false,\n            finished:false,\n            show:false,\n            msg: ''\n        }\n    },\n    components: {\n        Bottom,\n        Child,\n        [NavBar.name]:NavBar,\n        [Button.name]:Button,\n        [SwipeCell.name]:SwipeCell,\n        [List.name]:List,\n        [NoticeBar.name]:NoticeBar,\n        [Cell.name]:Cell,\n        [CellGroup.name]:CellGroup,\n        [Dialog.name]:Dialog,\n        [Icon.name]:Icon,\n        [Popup.name]:Popup\n    },\n    created(){\n        this.fetchData()\n    },\n    methods: {\n        fetchData(){\n            var that = this\n            if(store.getters.token != undefined && store.getters.id != ''){\n                var param = Object()\n                param.user_id = store.getters.id\n                get_collect_data(param).then(res=>{\n                    if(res.code == '2000'){\n                        this.label = res.status\n                    }else{\n                        this.label = res.status\n                    }\n                })\n            }\n        },\n        onLoad(){\n            var that = this\n            if(store.getters.token != undefined && store.getters.id != ''){\n                var param = Object()\n                param.user_id = store.getters.id\n                get_collect_data(param).then(res=>{\n                    if(res.code == '2000'){\n                        this.list = res.house\n                        this.loading = false\n                        this.finished = true\n                    }else{\n                        that.label = res.status\n                    }\n                })\n            }else{\n                this.list = [];\n            }\n            if(this.list == []){\n                this.label = 0\n            }\n        },\n        onClickLeft(){\n            this.$router.push({path: '/'})\n        },\n        go_list(){\n            this.$router.push({path:'list'})\n        },\n        onClose(clickPosition, instance) {\n            switch (clickPosition) {\n                case 'left':\n                case 'cell':\n                case 'outside':\n                instance.close();\n                break;\n                case 'right':\n                Dialog.confirm({\n                    message: '确定删除吗？'\n                }).then(() => {\n                    var that = this\n                    var param = Object()\n                    param.id = instance.$attrs.data\n                    delete_collect(param).then(res=>{\n                        this.msg = res.msg\n                        this.show = true\n                        setTimeout(function () {\n                            that.show = false\n                            that.onLoad()\n                            instance.close();\n                        }, 1500)\n                    })\n                });\n                break;\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n\n.empty{\n    width:200px;\n    height:100px;\n    margin:200px auto;\n}\n.img {\n    width:100px;\n    height:100px;\n    margin:0 auto;\n}\n.img img{\n    width:100%;\n    height:100%;\n}\n.empty_title{\n    font-family: PingFangBold;\n    font-size:14px;\n    text-align: center;\n}\n.empty_button{\n    width:80px;\n    height:80px;\n    margin: 0 auto;\n}\n.title{\n    width: 90%;\n    height: 40px;\n    margin: 0 auto;\n    font-size: 26px;\n    line-height: 40px;\n    font-family: PingFangBold;\n}\n.title_bottom{\n    width:60px;\n    height:5px;\n    border-radius: 2px;\n    background-color: #EA8608;\n    margin-left:5%;\n    margin-bottom: 20px;\n}\n  .van-swipe-cell {\n    width:90%;\n    margin:0 auto;\n    height:120px;\n    &__left,\n    &__right {\n      color: #ffffff;\n      font-size: 15px;\n      width: 55px;\n      height: 120px;\n      display: inline-block;\n      text-align: center;\n      line-height: 120px;\n      background-color: red;\n    }\n  }\n.swipe_left{\n    width: 120px;\n    height: 110px;\n    float: left;\n    margin-top: 2%;\n    border-radius: 10px;\n}\n.swipe_left img{\n  width:100%;\n  height:100%;\n  border-radius: 10px;\n}\n.swipe_right{\n  width:61%;\n  height:99%;\n  float:left;\n  margin-left:3%;\n}\n.swipe_right_top,.swipe_right_price{\n  width:100%;\n  height:25%;\n  line-height:30px;\n  font-family: PingFangLight;\n  font-size:16px;\n  color:#EA8608;\n}\n.swipe_right_center,.swipe_right_middle,.swipe_right_bottom{\n  width:100%;\n  height:20px;\n  line-height:19.2px;\n  font-family: PingFangLight;\n  font-size:13px;\n  color:rgb(172,172,172);\n  overflow: hidden;\n}\n.van-notice-bar{\n  height:30px;\n}\n.msg{\n    width:200px;\n    height:60px;\n    text-align:center;\n    line-height:60px;\n    border-radius: 5px;\n    font-family: PingFangBold;\n    color:#ffffff;\n    font-size:15px;\n    background-color: #000000;\n    box-shadow: 3px 4px 10px 2px rgba(119,118,118,0.33);\n}\n.van-icon{\n    vertical-align: middle;\n    padding-right:5px;\n}\n</style>"],"sourceRoot":"src/views/collectpage"}]}